!function(){function t(){if(t.is(arguments[0],q)){for(var e=arguments[0],r=Yt[g](t,e.splice(0,3+t.is(e[0],L))),i=r.set(),s=0,n=e[N];s<n;s++){var a=e[s]||{};l[f](a.type)&&i[F](r[a.type]().attr(a))}return i}return Yt[g](t,arguments)}function e(){for(var t=[],e=0;e<32;e++)t[e]=(~~(16*S.random()))[V](16);return t[12]=4,t[16]=(3&t[16]|8)[V](16),"r-"+t[A]("")}function r(t,e,r){function i(){var s=Array[c].slice.call(arguments,0),n=s[A]("►"),a=i.cache=i.cache||{},o=i.count=i.count||[];return a[f](n)?r?r(a[n]):a[n]:(o[N]>=1e3&&delete a[o.shift()],o[F](n),a[n]=t[g](e,s),r?r(a[n]):a[n])}return i}function i(e,r,i,s,n){return n?t.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+n,r,i-2*n,n,-n,s-2*n,2*n-i,2*n-s):t.format("M{0},{1}l{2},0,0,{3},{4},0z",e,r,i,s,-i)}function s(){return this.x+k+this.y}function n(e){return function(r,i,s,n){var a={back:e};return t.is(s,"function")?n=s:a.rot=s,r&&r.constructor==Lt&&(r=r.attrs.path),r&&(a.along=r),this.animate(a,i,n)}}function a(t,e,r,i,s,n){function a(t){return((c*t+l)*t+h)*t}function o(t,e){var r,i,s,n,o,f;for(s=t,f=0;f<8;f++){if(n=a(s)-t,E(n)<e)return s;if(o=(3*c*s+2*l)*s+h,E(o)<1e-6)break;s-=n/o}if(r=0,i=1,(s=t)<r)return r;if(s>i)return i;for(;r<i;){if(n=a(s),E(n-t)<e)return s;t>n?r=s:i=s,s=(i-r)/2+r}return s}var h=3*e,l=3*(i-e)-h,c=1-h-l,f=3*r,u=3*(s-r)-f,p=1-f-u;return function(t,e){var r=o(t,e);return((p*r+u)*r+f)*r}(t,1/(200*n))}t.version="1.5.2";var o,h=/[, ]+/,l={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},c="prototype",f="hasOwnProperty",u=document,p=window,d={was:Object[c][f].call(p,"Raphael"),is:p.Raphael},v=function(){this.customAttributes={}},y="appendChild",g="apply",x="concat",m="createTouch"in u,b="",k=" ",w=String,_="split",B="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[_](k),C={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},A="join",N="length",T=w[c].toLowerCase,S=Math,G=S.max,M=S.min,E=S.abs,z=S.pow,R=S.PI,L="number",j="string",q="array",V="toString",H="fill",W=Object[c][V],F="push",P=/^url\(['"]?([^\)]+?)['"]?\)$/i,Y={NaN:1,Infinity:1,"-Infinity":1},D=S.round,X="setAttribute",O=parseFloat,I=parseInt,$=" progid:DXImageTransform.Microsoft",U=w[c].toUpperCase,Z={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Q={along:"along",blur:L,"clip-rect":"csv",cx:L,cy:L,fill:"colour","fill-opacity":L,"font-size":L,height:L,opacity:L,path:"path",r:L,rotation:"csv",rx:L,ry:L,scale:"csv",stroke:"colour","stroke-opacity":L,"stroke-width":L,translation:"csv",width:L,x:L,y:L},J="replace",K=/^(from|to|\d+%?)$/,tt=/\s*,\s*/,et={hs:1,rg:1},rt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,it=function(t,e){return t.key-e.key};if(t.type=p.SVGAngle||u.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var st,nt=u.createElement("div");if(nt.innerHTML='<v:shape adj="1"/>',st=nt.firstChild,st.style.behavior="url(#default#VML)",!st||"object"!=typeof st.adj)return t.type=null;nt=null}t.svg=!(t.vml="VML"==t.type),v[c]=t[c],o=v[c],t._id=0,t._oid=0,t.fn={},t.is=function(t,e){return e=T.call(e),"finite"==e?!Y[f](+t):"null"==e&&null===t||e==typeof t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||W.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,r,i,s,n,a){if(null==n){var o=e-i,h=r-s;return o||h?(180*(o<0)+180*S.atan(-h/-o)/R+360)%360:0}return t.angle(e,r,n,a)-t.angle(i,s,n,a)},t.rad=function(t){return t%360*R/180},t.deg=function(t){return 180*t/R%360},t.snapTo=function(e,r,i){if(i=t.is(i,"finite")?i:10,t.is(e,q)){for(var s=e.length;s--;)if(E(e[s]-r)<=i)return e[s]}else{e=+e;var n=r%e;if(n<i)return r-n;if(n>e-i)return r-n+e}return r},t.setWindow=function(t){p=t,u=p.document};var at=function(e){if(t.vml){var i;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),i=s.body}catch(t){i=createPopup().document.body}var n=i.createTextRange();at=r(function(t){try{i.style.color=w(t)[J](/^\s+|\s+$/g,b);var e=n.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e[V](16)).slice(-6)}catch(t){return"none"}})}else{var a=u.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",u.body[y](a),at=r(function(t){return a.style.color=t,u.defaultView.getComputedStyle(a,b).getPropertyValue("color")})}return at(e)},ot=function(){return"hsb("+[this.h,this.s,this.b]+")"},ht=function(){return"hsl("+[this.h,this.s,this.l]+")"},lt=function(){return this.hex};t.hsb2rgb=function(e,r,i,s){return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,r=e.s,e=e.h,s=e.o),t.hsl2rgb(e,r,i/2,s)},t.hsl2rgb=function(e,r,i,s){t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,r=e.s,e=e.h),(e>1||r>1||i>1)&&(e/=360,r/=100,i/=100);var n,a,o,h={},l=["r","g","b"];if(r){n=i<.5?i*(1+r):i+r-i*r,a=2*i-n;for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,h[l[c]]=6*o<1?a+6*(n-a)*o:2*o<1?n:3*o<2?a+(n-a)*(2/3-o)*6:a}else h={r:i,g:i,b:i};return h.r*=255,h.g*=255,h.b*=255,h.hex="#"+(16777216|h.b|h.g<<8|h.r<<16).toString(16).slice(1),t.is(s,"finite")&&(h.opacity=s),h.toString=lt,h},t.rgb2hsb=function(e,r,i){if(null==r&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,r=e.g,e=e.r),null==r&&t.is(e,j)){var s=t.getRGB(e);e=s.r,r=s.g,i=s.b}(e>1||r>1||i>1)&&(e/=255,r/=255,i/=255);var n,a,o=G(e,r,i),h=M(e,r,i),l=o;if(h==o)return{h:0,s:0,b:o,toString:ot};var c=o-h;return a=c/o,n=e==o?(r-i)/c:r==o?2+(i-e)/c:4+(e-r)/c,n/=6,n<0&&n++,n>1&&n--,{h:n,s:a,b:l,toString:ot}},t.rgb2hsl=function(e,r,i){if(null==r&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,r=e.g,e=e.r),null==r&&t.is(e,j)){var s=t.getRGB(e);e=s.r,r=s.g,i=s.b}(e>1||r>1||i>1)&&(e/=255,r/=255,i/=255);var n,a,o,h=G(e,r,i),l=M(e,r,i),c=(h+l)/2;if(l==h)o={h:0,s:0,l:c};else{var f=h-l;a=c<.5?f/(h+l):f/(2-h-l),n=e==h?(r-i)/f:r==h?2+(i-e)/f:4+(e-r)/f,n/=6,n<0&&n++,n>1&&n--,o={h:n,s:a,l:c}}return o.toString=ht,o},t._path2string=function(){return this.join(",")[J](/,?([achlmqrstvxz]),?/gi,"$1")},t.getRGB=r(function(e){if(!e||(e=w(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none"};!(et[f](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=at(e));var r,i,s,n,a,o,h=e.match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i);return h?(h[2]&&(s=I(h[2].substring(5),16),i=I(h[2].substring(3,5),16),r=I(h[2].substring(1,3),16)),h[3]&&(s=I((a=h[3].charAt(3))+a,16),i=I((a=h[3].charAt(2))+a,16),r=I((a=h[3].charAt(1))+a,16)),h[4]&&(o=h[4][_](tt),r=O(o[0]),"%"==o[0].slice(-1)&&(r*=2.55),i=O(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),s=O(o[2]),"%"==o[2].slice(-1)&&(s*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(n=O(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100)),h[5]?(o=h[5][_](tt),r=O(o[0]),"%"==o[0].slice(-1)&&(r*=2.55),i=O(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),s=O(o[2]),"%"==o[2].slice(-1)&&(s*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(r/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(n=O(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),t.hsb2rgb(r,i,s,n)):h[6]?(o=h[6][_](tt),r=O(o[0]),"%"==o[0].slice(-1)&&(r*=2.55),i=O(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),s=O(o[2]),"%"==o[2].slice(-1)&&(s*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(r/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(n=O(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),t.hsl2rgb(r,i,s,n)):(h={r:r,g:i,b:s},h.hex="#"+(16777216|s|i<<8|r<<16).toString(16).slice(1),t.is(n,"finite")&&(h.opacity=n),h)):{r:-1,g:-1,b:-1,hex:"none",error:1}},t),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=r(function(e){if(!e)return null;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,q)&&t.is(e[0],q)&&(i=ft(e)),i[N]||w(e)[J](/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,function(t,e,s){var n=[],a=T.call(e);for(s[J](/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,function(t,e){e&&n[F](+e)}),"m"==a&&n[N]>2&&(i[F]([e][x](n.splice(0,2))),a="l",e="m"==e?"l":"L");n[N]>=r[a]&&(i[F]([e][x](n.splice(0,r[a]))),r[a]););}),i[V]=t._path2string,i}),t.findDotsAtSegment=function(t,e,r,i,s,n,a,o,h){var l=1-h,c=z(l,3)*t+3*z(l,2)*h*r+3*l*h*h*s+z(h,3)*a,f=z(l,3)*e+3*z(l,2)*h*i+3*l*h*h*n+z(h,3)*o,u=t+2*h*(r-t)+h*h*(s-2*r+t),p=e+2*h*(i-e)+h*h*(n-2*i+e),d=r+2*h*(s-r)+h*h*(a-2*s+r),v=i+2*h*(n-i)+h*h*(o-2*n+i),y=(1-h)*t+h*r,g=(1-h)*e+h*i,x=(1-h)*s+h*a,m=(1-h)*n+h*o,b=90-180*S.atan((u-d)/(p-v))/R;return(u>d||p<v)&&(b+=180),{x:c,y:f,m:{x:u,y:p},n:{x:d,y:v},start:{x:y,y:g},end:{x:x,y:m},alpha:b}};var ct=r(function(t){if(!t)return{x:0,y:0,width:0,height:0};t=mt(t);for(var e,r=0,i=0,s=[],n=[],a=0,o=t[N];a<o;a++)if(e=t[a],"M"==e[0])r=e[1],i=e[2],s[F](r),n[F](i);else{var h=xt(r,i,e[1],e[2],e[3],e[4],e[5],e[6]);s=s[x](h.min.x,h.max.x),n=n[x](h.min.y,h.max.y),r=e[5],i=e[6]}var l=M[g](0,s),c=M[g](0,n);return{x:l,y:c,width:G[g](0,s)-l,height:G[g](0,n)-c}}),ft=function(e){var r=[];t.is(e,q)&&t.is(e&&e[0],q)||(e=t.parsePathString(e));for(var i=0,s=e[N];i<s;i++){r[i]=[];for(var n=0,a=e[i][N];n<a;n++)r[i][n]=e[i][n]}return r[V]=t._path2string,r},ut=r(function(e){t.is(e,q)&&t.is(e&&e[0],q)||(e=t.parsePathString(e));var r=[],i=0,s=0,n=0,a=0,o=0;"M"==e[0][0]&&(i=e[0][1],s=e[0][2],n=i,a=s,o++,r[F](["M",i,s]));for(var h=o,l=e[N];h<l;h++){var c=r[h]=[],f=e[h];if(f[0]!=T.call(f[0]))switch(c[0]=T.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-i).toFixed(3),c[7]=+(f[7]-s).toFixed(3);break;case"v":c[1]=+(f[1]-s).toFixed(3);break;case"m":n=f[1],a=f[2];default:for(var u=1,p=f[N];u<p;u++)c[u]=+(f[u]-(u%2?i:s)).toFixed(3)}else{c=r[h]=[],"m"==f[0]&&(n=f[1]+i,a=f[2]+s);for(var d=0,v=f[N];d<v;d++)r[h][d]=f[d]}var y=r[h][N];switch(r[h][0]){case"z":i=n,s=a;break;case"h":i+=+r[h][y-1];break;case"v":s+=+r[h][y-1];break;default:i+=+r[h][y-2],s+=+r[h][y-1]}}return r[V]=t._path2string,r},0,ft),pt=r(function(e){t.is(e,q)&&t.is(e&&e[0],q)||(e=t.parsePathString(e));var r=[],i=0,s=0,n=0,a=0,o=0;"M"==e[0][0]&&(i=+e[0][1],s=+e[0][2],n=i,a=s,o++,r[0]=["M",i,s]);for(var h=o,l=e[N];h<l;h++){var c=r[h]=[],f=e[h];if(f[0]!=U.call(f[0]))switch(c[0]=U.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+i),c[7]=+(f[7]+s);break;case"V":c[1]=+f[1]+s;break;case"H":c[1]=+f[1]+i;break;case"M":n=+f[1]+i,a=+f[2]+s;default:for(var u=1,p=f[N];u<p;u++)c[u]=+f[u]+(u%2?i:s)}else for(var d=0,v=f[N];d<v;d++)r[h][d]=f[d];switch(c[0]){case"Z":i=n,s=a;break;case"H":i=c[1];break;case"V":s=c[1];break;case"M":n=r[h][r[h][N]-2],a=r[h][r[h][N]-1];default:i=r[h][r[h][N]-2],s=r[h][r[h][N]-1]}}return r[V]=t._path2string,r},null,ft),dt=function(t,e,r,i){return[t,e,r,i,r,i]},vt=function(t,e,r,i,s,n){var a=1/3,o=2/3;return[a*t+o*r,a*e+o*i,a*s+o*r,a*n+o*i,s,n]},yt=function(t,e,i,s,n,a,o,h,l,c){var f,u=120*R/180,p=R/180*(+n||0),d=[],v=r(function(t,e,r){return{x:t*S.cos(r)-e*S.sin(r),y:t*S.sin(r)+e*S.cos(r)}});if(c)T=c[0],G=c[1],B=c[2],C=c[3];else{f=v(t,e,-p),t=f.x,e=f.y,f=v(h,l,-p),h=f.x,l=f.y;var y=(S.cos(R/180*n),S.sin(R/180*n),(t-h)/2),g=(e-l)/2,m=y*y/(i*i)+g*g/(s*s);m>1&&(m=S.sqrt(m),i*=m,s*=m);var b=i*i,k=s*s,w=(a==o?-1:1)*S.sqrt(E((b*k-b*g*g-k*y*y)/(b*g*g+k*y*y))),B=w*i*g/s+(t+h)/2,C=w*-s*y/i+(e+l)/2,T=S.asin(((e-C)/s).toFixed(9)),G=S.asin(((l-C)/s).toFixed(9));T=t<B?R-T:T,G=h<B?R-G:G,T<0&&(T=2*R+T),G<0&&(G=2*R+G),o&&T>G&&(T-=2*R),!o&&G>T&&(G-=2*R)}var M=G-T;if(E(M)>u){var z=G,L=h,j=l;G=T+u*(o&&G>T?1:-1),h=B+i*S.cos(G),l=C+s*S.sin(G),d=yt(h,l,i,s,n,0,o,L,j,[G,z,B,C])}M=G-T;var q=S.cos(T),V=S.sin(T),H=S.cos(G),W=S.sin(G),F=S.tan(M/4),P=4/3*i*F,Y=4/3*s*F,D=[t,e],X=[t+P*V,e-Y*q],O=[h+P*W,l-Y*H],I=[h,l];if(X[0]=2*D[0]-X[0],X[1]=2*D[1]-X[1],c)return[X,O,I][x](d);d=[X,O,I][x](d)[A]()[_](",");for(var $=[],U=0,Z=d[N];U<Z;U++)$[U]=U%2?v(d[U-1],d[U],p).y:v(d[U],d[U+1],p).x;return $},gt=function(t,e,r,i,s,n,a,o,h){var l=1-h;return{x:z(l,3)*t+3*z(l,2)*h*r+3*l*h*h*s+z(h,3)*a,y:z(l,3)*e+3*z(l,2)*h*i+3*l*h*h*n+z(h,3)*o}},xt=r(function(t,e,r,i,s,n,a,o){var h,l=s-2*r+t-(a-2*s+r),c=2*(r-t)-2*(s-r),f=t-r,u=(-c+S.sqrt(c*c-4*l*f))/2/l,p=(-c-S.sqrt(c*c-4*l*f))/2/l,d=[e,o],v=[t,a];return E(u)>"1e12"&&(u=.5),E(p)>"1e12"&&(p=.5),u>0&&u<1&&(h=gt(t,e,r,i,s,n,a,o,u),v[F](h.x),d[F](h.y)),p>0&&p<1&&(h=gt(t,e,r,i,s,n,a,o,p),v[F](h.x),d[F](h.y)),l=n-2*i+e-(o-2*n+i),c=2*(i-e)-2*(n-i),f=e-i,u=(-c+S.sqrt(c*c-4*l*f))/2/l,p=(-c-S.sqrt(c*c-4*l*f))/2/l,E(u)>"1e12"&&(u=.5),E(p)>"1e12"&&(p=.5),u>0&&u<1&&(h=gt(t,e,r,i,s,n,a,o,u),v[F](h.x),d[F](h.y)),p>0&&p<1&&(h=gt(t,e,r,i,s,n,a,o,p),v[F](h.x),d[F](h.y)),{min:{x:M[g](0,v),y:M[g](0,d)},max:{x:G[g](0,v),y:G[g](0,d)}}}),mt=r(function(t,e){for(var r=pt(t),i=e&&pt(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][x](yt[g](0,[e.x,e.y][x](t.slice(1))));break;case"S":r=e.x+(e.x-(e.bx||e.x)),i=e.y+(e.y-(e.by||e.y)),t=["C",r,i][x](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][x](vt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][x](vt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][x](dt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][x](dt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][x](dt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][x](dt(e.x,e.y,e.X,e.Y))}return t}),o=function(t,e){if(t[e][N]>7){t[e].shift();for(var s=t[e];s[N];)t.splice(e++,0,["C"][x](s.splice(0,6)));t.splice(e,1),c=G(r[N],i&&i[N]||0)}},h=function(t,e,s,n,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",n.x,n.y]),s.bx=0,s.by=0,s.x=t[a][1],s.y=t[a][2],c=G(r[N],i&&i[N]||0))},l=0,c=G(r[N],i&&i[N]||0);l<c;l++){r[l]=a(r[l],s),o(r,l),i&&(i[l]=a(i[l],n)),i&&o(i,l),h(r,i,s,n,l),h(i,r,n,s,l);var f=r[l],u=i&&i[l],p=f[N],d=i&&u[N];s.x=f[p-2],s.y=f[p-1],s.bx=O(f[p-4])||s.x,s.by=O(f[p-3])||s.y,n.bx=i&&(O(u[d-4])||n.x),n.by=i&&(O(u[d-3])||n.y),n.x=i&&u[d-2],n.y=i&&u[d-1]}return i?[r,i]:r},null,ft),bt=r(function(e){for(var r=[],i=0,s=e[N];i<s;i++){var n={},a=e[i].match(/^([^:]*):?([\d\.]*)/);if(n.color=t.getRGB(a[1]),n.color.error)return null;n.color=n.color.hex,a[2]&&(n.offset=a[2]+"%"),r[F](n)}for(i=1,s=r[N]-1;i<s;i++)if(!r[i].offset){for(var o=O(r[i-1].offset||0),h=0,l=i+1;l<s;l++)if(r[l].offset){h=r[l].offset;break}h||(h=100,l=s),h=O(h);for(var c=(h-o)/(l-i+1);i<l;i++)o+=c,r[i].offset=o+"%"}return r}),kt=function(e,r,i,s){var n;return t.is(e,j)||t.is(e,"object")?(n=t.is(e,j)?u.getElementById(e):e,n.tagName?null==r?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:r,height:i}:void 0):{container:1,x:e,y:r,width:i,height:s}},wt=function(t,e){var r=this;for(var i in e)if(e[f](i)&&!(i in t))switch(typeof e[i]){case"function":!function(e){t[i]=t===r?e:function(){return e[g](r,arguments)}}(e[i]);break;case"object":t[i]=t[i]||{},wt.call(this,t[i],e[i]);break;default:t[i]=e[i]}},_t=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},Bt=function(t,e){e.top!==t&&(_t(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},Ct=function(t,e){e.bottom!==t&&(_t(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},At=function(t,e,r){_t(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},Nt=function(t,e,r){_t(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},Tt=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}};if(t.pathToRelative=ut,t.svg){o.svgns="http://www.w3.org/2000/svg",o.xlink="http://www.w3.org/1999/xlink",D=function(t){return+t+.5*(~~t===t)};var St=function(t,e){if(!e)return t=u.createElementNS(o.svgns,t),t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var r in e)e[f](r)&&t[X](r,w(e[r]))};t[V]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Gt=function(t,e){var r=St("path");e.canvas&&e.canvas[y](r);var i=new Lt(r,e);return i.type="path",zt(i,{fill:"none",stroke:"#000",path:t}),i},Mt=function(t,r,i){var s="linear",n=.5,a=.5,o=t.style;if(r=w(r)[J](rt,function(t,e,r){if(s="radial",e&&r){n=O(e),a=O(r);var i=2*(a>.5)-1;z(n-.5,2)+z(a-.5,2)>.25&&(a=S.sqrt(.25-z(n-.5,2))*i+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*i)}return b}),r=r[_](/\s*\-\s*/),"linear"==s){var h=r.shift();if(h=-O(h),isNaN(h))return null;var l=[0,0,S.cos(h*R/180),S.sin(h*R/180)],c=1/(G(E(l[2]),E(l[3]))||1);l[2]*=c,l[3]*=c,l[2]<0&&(l[0]=-l[2],l[2]=0),l[3]<0&&(l[1]=-l[3],l[3]=0)}var f=bt(r);if(!f)return null;var p=t.getAttribute(H);(p=p.match(/^url\(#(.*)\)$/))&&i.defs.removeChild(u.getElementById(p[1]));var d=St(s+"Gradient");d.id=e(),St(d,"radial"==s?{fx:n,fy:a}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]}),i.defs[y](d);for(var v=0,g=f[N];v<g;v++){var x=St("stop");St(x,{offset:f[v].offset?f[v].offset:v?"100%":"0%","stop-color":f[v].color||"#fff"}),d[y](x)}return St(t,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),o.fill=b,o.opacity=1,o.fillOpacity=1,1},Et=function(e){var r=e.getBBox();St(e.pattern,{patternTransform:t.format("translate({0},{1})",r.x,r.y)})},zt=function(r,i){var s={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},n=r.node,a=r.attrs,o=r.rotate(),l=function(t,e){if(e=s[T.call(e)]){for(var r=t.attrs["stroke-width"]||"1",a={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],h=e[N];h--;)o[h]=e[h]*r+(h%2?1:-1)*a;St(n,{"stroke-dasharray":o[A](",")})}};i[f]("rotation")&&(o=i.rotation);var c=w(o)[_](h);c.length-1?(c[1]=+c[1],c[2]=+c[2]):c=null,O(o)&&r.rotate(0,!0);for(var p in i)if(i[f](p)){if(!Z[f](p))continue;var d=i[p];switch(a[p]=d,p){case"blur":r.blur(d);break;case"rotation":r.rotate(d,!0);break;case"href":case"title":case"target":var v=n.parentNode;if("a"!=T.call(v.tagName)){var g=St("a");v.insertBefore(g,n),g[y](n),v=g}"target"==p&&"blank"==d?v.setAttributeNS(r.paper.xlink,"show","new"):v.setAttributeNS(r.paper.xlink,p,d);break;case"cursor":n.style.cursor=d;break;case"clip-rect":var x=w(d)[_](h);if(4==x[N]){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var m=St("clipPath"),B=St("rect");m.id=e(),St(B,{x:x[0],y:x[1],width:x[2],height:x[3]}),m[y](B),r.paper.defs[y](m),St(n,{"clip-path":"url(#"+m.id+")"}),r.clip=B}if(!d){var C=u.getElementById(n.getAttribute("clip-path")[J](/(^url\(#|\)$)/g,b));C&&C.parentNode.removeChild(C),St(n,{"clip-path":b}),delete r.clip}break;case"path":"path"==r.type&&St(n,{d:d?a.path=pt(d):"M0,0"});break;case"width":if(n[X](p,d),!a.fx)break;p="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":c&&("x"==p||"cx"==p)&&(c[1]+=d-a[p]),n[X](p,d),r.pattern&&Et(r);break;case"height":if(n[X](p,d),!a.fy)break;p="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":c&&("y"==p||"cy"==p)&&(c[2]+=d-a[p]),n[X](p,d),r.pattern&&Et(r);break;case"r":"rect"==r.type?St(n,{rx:d,ry:d}):n[X](p,d);break;case"src":"image"==r.type&&n.setAttributeNS(r.paper.xlink,"href",d);break;case"stroke-width":n.style.strokeWidth=d,n[X](p,d),a["stroke-dasharray"]&&l(r,a["stroke-dasharray"]);break;case"stroke-dasharray":l(r,d);break;case"translation":var S=w(d)[_](h);S[0]=+S[0]||0,S[1]=+S[1]||0,c&&(c[1]+=S[0],c[2]+=S[1]),ve.call(r,S[0],S[1]);break;case"scale":S=w(d)[_](h),r.scale(+S[0]||1,+S[1]||+S[0]||1,isNaN(O(S[2]))?null:+S[2],isNaN(O(S[3]))?null:+S[3]);break;case H:var G=w(d).match(P);if(G){m=St("pattern");var M=St("image");m.id=e(),St(m,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),St(M,{x:0,y:0}),M.setAttributeNS(r.paper.xlink,"href",G[1]),m[y](M);var E=u.createElement("img");E.style.cssText="position:absolute;left:-9999em;top-9999em",E.onload=function(){St(m,{width:this.offsetWidth,height:this.offsetHeight}),St(M,{width:this.offsetWidth,height:this.offsetHeight}),u.body.removeChild(this),r.paper.safari()},u.body[y](E),E.src=G[1],r.paper.defs[y](m),n.style.fill="url(#"+m.id+")",St(n,{fill:"url(#"+m.id+")"}),r.pattern=m,r.pattern&&Et(r);break}var z=t.getRGB(d);if(z.error){if(({circle:1,ellipse:1}[f](r.type)||"r"!=w(d).charAt())&&Mt(n,d,r.paper)){a.gradient=d,a.fill="none";break}delete i.gradient,delete a.gradient,!t.is(a.opacity,"undefined")&&t.is(i.opacity,"undefined")&&St(n,{opacity:a.opacity}),!t.is(a["fill-opacity"],"undefined")&&t.is(i["fill-opacity"],"undefined")&&St(n,{"fill-opacity":a["fill-opacity"]})}z[f]("opacity")&&St(n,{"fill-opacity":z.opacity>1?z.opacity/100:z.opacity});case"stroke":z=t.getRGB(d),n[X](p,z.hex),"stroke"==p&&z[f]("opacity")&&St(n,{"stroke-opacity":z.opacity>1?z.opacity/100:z.opacity});break;case"gradient":(({circle:1,ellipse:1})[f](r.type)||"r"!=w(d).charAt())&&Mt(n,d,r.paper);break;case"opacity":a.gradient&&!a[f]("stroke-opacity")&&St(n,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(a.gradient){var R=u.getElementById(n.getAttribute(H)[J](/^url\(#|\)$/g,b));if(R){var L=R.getElementsByTagName("stop");L[L[N]-1][X]("stop-opacity",d)}break}default:"font-size"==p&&(d=I(d,10)+"px");var j=p[J](/(\-.)/g,function(t){return U.call(t.substring(1))});n.style[j]=d,n[X](p,d)}}Rt(r,i),c?r.rotate(c.join(k)):O(o)&&r.rotate(o,!0)},Rt=function(e,r){if("text"==e.type&&(r[f]("text")||r[f]("font")||r[f]("font-size")||r[f]("x")||r[f]("y"))){var i=e.attrs,s=e.node,n=s.firstChild?I(u.defaultView.getComputedStyle(s.firstChild,b).getPropertyValue("font-size"),10):10;if(r[f]("text")){for(i.text=r.text;s.firstChild;)s.removeChild(s.firstChild);for(var a=w(r.text)[_]("\n"),o=0,h=a[N];o<h;o++)if(a[o]){var l=St("tspan");o&&St(l,{dy:1.2*n,x:i.x}),l[y](u.createTextNode(a[o])),s[y](l)}}else for(a=s.getElementsByTagName("tspan"),o=0,h=a[N];o<h;o++)o&&St(a[o],{dy:1.2*n,x:i.x});St(s,{y:i.y});var c=e.getBBox(),p=i.y-(c.y+c.height/2);p&&t.is(p,"finite")&&St(s,{y:i.y+p})}},Lt=function(e,r){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.paper=r,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},jt=Lt[c];Lt[c].rotate=function(e,r,i){if(this.removed)return this;if(null==e)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][A](k):this._.rt.deg;var s=this.getBBox();return e=w(e)[_](h),e[N]-1&&(r=O(e[1]),i=O(e[2])),e=O(e[0]),null!=r&&r!==!1?this._.rt.deg=e:this._.rt.deg+=e,null==i&&(r=null),this._.rt.cx=r,this._.rt.cy=i,r=null==r?s.x+s.width/2:r,i=null==i?s.y+s.height/2:i,this._.rt.deg?(this.transformations[0]=t.format("rotate({0} {1} {2})",this._.rt.deg,r,i),this.clip&&St(this.clip,{transform:t.format("rotate({0} {1} {2})",-this._.rt.deg,r,i)})):(this.transformations[0]=b,this.clip&&St(this.clip,{transform:b})),St(this.node,{transform:this.transformations[A](k)}),this},Lt[c].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Lt[c].show=function(){return!this.removed&&(this.node.style.display=""),this},Lt[c].remove=function(){if(!this.removed){_t(this,this.paper),this.node.parentNode.removeChild(this.node);for(var t in this)delete this[t];this.removed=!0}},Lt[c].getBBox=function(){if(this.removed)return this;if("path"==this.type)return ct(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var s=this.node.getExtentOfChar(r);s.y<e.y&&(e.y=s.y),s.y+s.height-e.y>e.height&&(e.height=s.y+s.height-e.y),s.x+s.width-e.x>e.width&&(e.width=s.x+s.width-e.x)}}return t&&this.hide(),e},Lt[c].attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var s in this.attrs)this.attrs[f](s)&&(i[s]=this.attrs[s]);return this._.rt.deg&&(i.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(i.scale=this.scale()),i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i}if(null==r&&t.is(e,j))return"translation"==e?ve.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==H&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(null==r&&t.is(e,q)){for(var n={},a=0,o=e.length;a<o;a++)n[e[a]]=this.attr(e[a]);return n}if(null!=r){var h={};h[e]=r}else null!=e&&t.is(e,"object")&&(h=e);for(var l in this.paper.customAttributes)if(this.paper.customAttributes[f](l)&&h[f](l)&&t.is(this.paper.customAttributes[l],"function")){var c=this.paper.customAttributes[l].apply(this,[][x](h[l]));this.attrs[l]=h[l];for(var u in c)c[f](u)&&(h[u]=c[u])}return zt(this,h),this},Lt[c].toFront=function(){if(this.removed)return this;this.node.parentNode[y](this.node);var t=this.paper;return t.top!=this&&Bt(this,t),this},Lt[c].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Ct(this,this.paper);this.paper}return this},Lt[c].insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[y](this.node),At(this,t,this.paper),this},Lt[c].insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),Nt(this,t,this.paper),this},Lt[c].blur=function(t){var r=this;if(0!=+t){var i=St("filter"),s=St("feGaussianBlur");r.attrs.blur=t,i.id=e(),St(s,{stdDeviation:+t||1.5}),i.appendChild(s),r.paper.defs.appendChild(i),r._blur=i,St(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")};var qt=function(t,e,r,i){var s=St("circle");t.canvas&&t.canvas[y](s);var n=new Lt(s,t);return n.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},n.type="circle",St(s,n.attrs),n},Vt=function(t,e,r,i,s,n){var a=St("rect");t.canvas&&t.canvas[y](a);var o=new Lt(a,t);return o.attrs={x:e,y:r,width:i,height:s,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},o.type="rect",St(a,o.attrs),o},Ht=function(t,e,r,i,s){var n=St("ellipse");t.canvas&&t.canvas[y](n);var a=new Lt(n,t);return a.attrs={cx:e,cy:r,rx:i,ry:s,fill:"none",stroke:"#000"},a.type="ellipse",St(n,a.attrs),a},Wt=function(t,e,r,i,s,n){var a=St("image");St(a,{x:r,y:i,width:s,height:n,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[y](a);var o=new Lt(a,t);return o.attrs={x:r,y:i,width:s,height:n,src:e},o.type="image",o},Ft=function(t,e,r,i){var s=St("text");St(s,{x:e,y:r,"text-anchor":"middle"}),t.canvas&&t.canvas[y](s);var n=new Lt(s,t);return n.attrs={x:e,y:r,"text-anchor":"middle",text:i,font:Z.font,stroke:"none",fill:"#000"},n.type="text",zt(n,n.attrs),n},Pt=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[X]("width",this.width),this.canvas[X]("height",this.height),this},Yt=function(){var e=kt[g](0,arguments),r=e&&e.container,i=e.x,s=e.y,n=e.width,a=e.height;if(!r)throw new Error("SVG container not found.");var o=St("svg");return i=i||0,s=s||0,n=n||512,a=a||342,St(o,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:n,height:a}),1==r?(o.style.cssText="position:absolute;left:"+i+"px;top:"+s+"px",u.body[y](o)):r.firstChild?r.insertBefore(o,r.firstChild):r[y](o),r=new v,r.width=n,r.height=a,r.canvas=o,wt.call(r,r,t.fn),r.clear(),r};o.clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=St("desc"))[y](u.createTextNode("Created with Raphaël")),t[y](this.desc),t[y](this.defs=St("defs"))},o.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Tt(t)}}if(t.vml){var Dt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Xt=1e3+k+1e3,Ot={path:1,rect:1},It=function(t){var e=/[ahqstv]/gi,r=pt;if(w(t).match(e)&&(r=mt),e=/[clmz]/g,r==pt&&!w(t).match(e)){var i=w(t)[J](/([clmz]),?([^clmz]*)/gi,function(t,e,r){var i=[],s="m"==T.call(e),n=Dt[e];return r[J](/-?[^,\s-]+/g,function(t){s&&2==i[N]&&(n+=i+Dt["m"==e?"l":"L"],i=[]),i[F](D(10*t))}),n+i});return i}var s,n,a=r(t);i=[];for(var o=0,h=a[N];o<h;o++){s=a[o],n=T.call(a[o][0]),"z"==n&&(n="x");for(var l=1,c=s[N];l<c;l++)n+=D(10*s[l])+(l!=c-1?",":b);i[F](n)}return i[A](k)};t[V]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Gt=function(t,e){var r=$t("group");r.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",r.coordsize=e.coordsize,r.coordorigin=e.coordorigin;var i=$t("shape"),s=i.style;s.width=e.width+"px",s.height=e.height+"px",i.coordsize=Xt,i.coordorigin=e.coordorigin,r[y](i);var n=new Lt(i,r,e),a={fill:"none",stroke:"#000"};return t&&(a.path=t),n.type="path",n.path=[],n.Path=b,zt(n,a),e.canvas[y](r),n},zt=function(e,r){e.attrs=e.attrs||{};var s,n=e.node,a=e.attrs,o=n.style,l=(r.x!=a.x||r.y!=a.y||r.width!=a.width||r.height!=a.height||r.r!=a.r)&&"rect"==e.type,c=e;for(var p in r)r[f](p)&&(a[p]=r[p]);if(l&&(a.path=i(a.x,a.y,a.width,a.height,a.r),e.X=a.x,e.Y=a.y,e.W=a.width,e.H=a.height),r.href&&(n.href=r.href),r.title&&(n.title=r.title),r.target&&(n.target=r.target),r.cursor&&(o.cursor=r.cursor),"blur"in r&&e.blur(r.blur),(r.path&&"path"==e.type||l)&&(n.path=It(a.path)),null!=r.rotation&&e.rotate(r.rotation,!0),r.translation&&(s=w(r.translation)[_](h),ve.call(e,s[0],s[1]),null!=e._.rt.cx&&(e._.rt.cx+=+s[0],e._.rt.cy+=+s[1],e.setBox(e.attrs,s[0],s[1]))),r.scale&&(s=w(r.scale)[_](h),e.scale(+s[0]||1,+s[1]||+s[0]||1,+s[2]||null,+s[3]||null)),"clip-rect"in r){var d=w(r["clip-rect"])[_](h);if(4==d[N]){d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1];var v=n.clipRect||u.createElement("div"),g=v.style,x=n.parentNode;g.clip=t.format("rect({1}px {2}px {3}px {0}px)",d),n.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=e.paper.width+"px",g.height=e.paper.height+"px",x.parentNode.insertBefore(v,x),v[y](x),n.clipRect=v)}r["clip-rect"]||n.clipRect&&(n.clipRect.style.clip=b)}if("image"==e.type&&r.src&&(n.src=r.src),"image"==e.type&&r.opacity&&(n.filterOpacity=$+".Alpha(opacity="+100*r.opacity+")",o.filter=(n.filterMatrix||b)+(n.filterOpacity||b)),r.font&&(o.font=r.font),r["font-family"]&&(o.fontFamily='"'+r["font-family"][_](",")[0][J](/^['"]+|['"]+$/g,b)+'"'),r["font-size"]&&(o.fontSize=r["font-size"]),r["font-weight"]&&(o.fontWeight=r["font-weight"]),r["font-style"]&&(o.fontStyle=r["font-style"]),null!=r.opacity||null!=r["stroke-width"]||null!=r.fill||null!=r.stroke||null!=r["stroke-width"]||null!=r["stroke-opacity"]||null!=r["fill-opacity"]||null!=r["stroke-dasharray"]||null!=r["stroke-miterlimit"]||null!=r["stroke-linejoin"]||null!=r["stroke-linecap"]){n=e.shape||n;var m=n.getElementsByTagName(H)&&n.getElementsByTagName(H)[0],k=!1;if(!m&&(k=m=$t(H)),"fill-opacity"in r||"opacity"in r){var B=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+t.getRGB(r.fill).o+1||2)-1);B=M(G(B,0),1),m.opacity=B}if(r.fill&&(m.on=!0),
null!=m.on&&"none"!=r.fill||(m.on=!1),m.on&&r.fill){var C=r.fill.match(P);C?(m.src=C[1],m.type="tile"):(m.color=t.getRGB(r.fill).hex,m.src=b,m.type="solid",t.getRGB(r.fill).error&&(c.type in{circle:1,ellipse:1}||"r"!=w(r.fill).charAt())&&Mt(c,r.fill)&&(a.fill="none",a.gradient=r.fill))}k&&n[y](m);var A=n.getElementsByTagName("stroke")&&n.getElementsByTagName("stroke")[0],T=!1;!A&&(T=A=$t("stroke")),(r.stroke&&"none"!=r.stroke||r["stroke-width"]||null!=r["stroke-opacity"]||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(A.on=!0),("none"==r.stroke||null==A.on||0==r.stroke||0==r["stroke-width"])&&(A.on=!1);var S=t.getRGB(r.stroke);A.on&&r.stroke&&(A.color=S.hex),B=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+S.o+1||2)-1);var E=.75*(O(r["stroke-width"])||1);if(B=M(G(B,0),1),null==r["stroke-width"]&&(E=a["stroke-width"]),r["stroke-width"]&&(A.weight=E),E&&E<1&&(B*=E)&&(A.weight=1),A.opacity=B,r["stroke-linejoin"]&&(A.joinstyle=r["stroke-linejoin"]||"miter"),A.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(A.endcap="butt"==r["stroke-linecap"]?"flat":"square"==r["stroke-linecap"]?"square":"round"),r["stroke-dasharray"]){var z={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};A.dashstyle=z[f](r["stroke-dasharray"])?z[r["stroke-dasharray"]]:b}T&&n[y](A)}if("text"==c.type)switch(o=c.paper.span.style,a.font&&(o.font=a.font),a["font-family"]&&(o.fontFamily=a["font-family"]),a["font-size"]&&(o.fontSize=a["font-size"]),a["font-weight"]&&(o.fontWeight=a["font-weight"]),a["font-style"]&&(o.fontStyle=a["font-style"]),c.node.string&&(c.paper.span.innerHTML=w(c.node.string)[J](/</g,"&#60;")[J](/&/g,"&#38;")[J](/\n/g,"<br>")),c.W=a.w=c.paper.span.offsetWidth,c.H=a.h=c.paper.span.offsetHeight,c.X=a.x,c.Y=a.y+D(c.H/2),a["text-anchor"]){case"start":c.node.style["v-text-align"]="left",c.bbx=D(c.W/2);break;case"end":c.node.style["v-text-align"]="right",c.bbx=-D(c.W/2);break;default:c.node.style["v-text-align"]="center"}},Mt=function(t,e){t.attrs=t.attrs||{};var r,i=(t.attrs,"linear"),s=".5 .5";if(t.attrs.gradient=e,e=w(e)[J](rt,function(t,e,r){return i="radial",e&&r&&(e=O(e),r=O(r),z(e-.5,2)+z(r-.5,2)>.25&&(r=S.sqrt(.25-z(e-.5,2))*(2*(r>.5)-1)+.5),s=e+k+r),b}),e=e[_](/\s*\-\s*/),"linear"==i){var n=e.shift();if(n=-O(n),isNaN(n))return null}var a=bt(e);if(!a)return null;if(t=t.shape||t.node,r=t.getElementsByTagName(H)[0]||$t(H),!r.parentNode&&t.appendChild(r),a[N]){r.on=!0,r.method="none",r.color=a[0].color,r.color2=a[a[N]-1].color;for(var o=[],h=0,l=a[N];h<l;h++)a[h].offset&&o[F](a[h].offset+k+a[h].color);r.colors&&(r.colors.value=o[N]?o[A]():"0% "+r.color),"radial"==i?(r.type="gradientradial",r.focus="100%",r.focussize=s,r.focusposition=s):(r.type="gradient",r.angle=(270-n)%360)}return 1},Lt=function(e,r,i){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=r,this.paper=i,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},jt=Lt[c],jt.rotate=function(t,e,r){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][A](k):this._.rt.deg:(t=w(t)[_](h),t[N]-1&&(e=O(t[1]),r=O(t[2])),t=O(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,this.setBox(this.attrs,e,r),this.Group.style.rotation=this._.rt.deg,this)},jt.setBox=function(t,e,r){if(this.removed)return this;var i=this.Group.style,s=this.shape&&this.shape.style||this.node.style;t=t||{};for(var n in t)t[f](n)&&(this.attrs[n]=t[n]);e=e||this._.rt.cx,r=r||this._.rt.cy;var a,o,h,l,c=this.attrs;switch(this.type){case"circle":a=c.cx-c.r,o=c.cy-c.r,h=l=2*c.r;break;case"ellipse":a=c.cx-c.rx,o=c.cy-c.ry,h=2*c.rx,l=2*c.ry;break;case"image":a=+c.x,o=+c.y,h=c.width||0,l=c.height||0;break;case"text":this.textpath.v=["m",D(c.x),", ",D(c.y-2),"l",D(c.x)+1,", ",D(c.y-2)][A](b),a=c.x-D(this.W/2),o=c.y-this.H/2,h=this.W,l=this.H;break;case"rect":case"path":if(this.attrs.path){var u=ct(this.attrs.path);a=u.x,o=u.y,h=u.width,l=u.height}else a=0,o=0,h=this.paper.width,l=this.paper.height;break;default:a=0,o=0,h=this.paper.width,l=this.paper.height}e=null==e?a+h/2:e,r=null==r?o+l/2:r;var p,d=e-this.paper.width/2,v=r-this.paper.height/2;i.left!=(p=d+"px")&&(i.left=p),i.top!=(p=v+"px")&&(i.top=p),this.X=Ot[f](this.type)?-d:a,this.Y=Ot[f](this.type)?-v:o,this.W=h,this.H=l,Ot[f](this.type)?(s.left!=(p=10*-d+"px")&&(s.left=p),s.top!=(p=10*-v+"px")&&(s.top=p)):"text"==this.type?(s.left!=(p=-d+"px")&&(s.left=p),s.top!=(p=-v+"px")&&(s.top=p)):(i.width!=(p=this.paper.width+"px")&&(i.width=p),i.height!=(p=this.paper.height+"px")&&(i.height=p),s.left!=(p=a-d+"px")&&(s.left=p),s.top!=(p=o-v+"px")&&(s.top=p),s.width!=(p=h+"px")&&(s.width=p),s.height!=(p=l+"px")&&(s.height=p))},jt.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},jt.show=function(){return!this.removed&&(this.Group.style.display="block"),this},jt.getBBox=function(){return this.removed?this:Ot[f](this.type)?ct(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},jt.remove=function(){if(!this.removed){_t(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)delete this[t];this.removed=!0}},jt.attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var s in this.attrs)this.attrs[f](s)&&(i[s]=this.attrs[s]);return this._.rt.deg&&(i.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(i.scale=this.scale()),i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i}if(null==r&&t.is(e,"string"))return"translation"==e?ve.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==H&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(this.attrs&&null==r&&t.is(e,q)){var n,a={};for(s=0,n=e[N];s<n;s++)a[e[s]]=this.attr(e[s]);return a}var o;if(null!=r&&(o={},o[e]=r),null==r&&t.is(e,"object")&&(o=e),o){for(var h in this.paper.customAttributes)if(this.paper.customAttributes[f](h)&&o[f](h)&&t.is(this.paper.customAttributes[h],"function")){var l=this.paper.customAttributes[h].apply(this,[][x](o[h]));this.attrs[h]=o[h];for(var c in l)l[f](c)&&(o[c]=l[c])}o.text&&"text"==this.type&&(this.node.string=o.text),zt(this,o),o.gradient&&({circle:1,ellipse:1}[f](this.type)||"r"!=w(o.gradient).charAt())&&Mt(this,o.gradient),(!Ot[f](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},jt.toFront=function(){return!this.removed&&this.Group.parentNode[y](this.Group),this.paper.top!=this&&Bt(this,this.paper),this},jt.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Ct(this,this.paper)),this)},jt.insertAfter=function(t){return this.removed?this:(t.constructor==ye&&(t=t[t.length-1]),t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[y](this.Group),At(this,t,this.paper),this)},jt.insertBefore=function(t){return this.removed?this:(t.constructor==ye&&(t=t[0]),t.Group.parentNode.insertBefore(this.Group,t.Group),Nt(this,t,this.paper),this)},jt.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;i=i.replace(/ progid:\S+Blur\([^\)]+\)/g,b),0!=+e?(this.attrs.blur=e,r.filter=i+k+$+".Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",D(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur)},qt=function(t,e,r,i){var s=$t("group"),n=$t("oval");n.style;s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=Xt,s.coordorigin=t.coordorigin,s[y](n);var a=new Lt(n,s,t);return a.type="circle",zt(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=r,a.attrs.r=i,a.setBox({x:e-i,y:r-i,width:2*i,height:2*i}),t.canvas[y](s),a},Vt=function(t,e,r,s,n,a){var o=i(e,r,s,n,a),h=t.path(o),l=h.attrs;return h.X=l.x=e,h.Y=l.y=r,h.W=l.width=s,h.H=l.height=n,l.r=a,l.path=o,h.type="rect",h},Ht=function(t,e,r,i,s){var n=$t("group"),a=$t("oval");a.style;n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=Xt,n.coordorigin=t.coordorigin,n[y](a);var o=new Lt(a,n,t);return o.type="ellipse",zt(o,{stroke:"#000"}),o.attrs.cx=e,o.attrs.cy=r,o.attrs.rx=i,o.attrs.ry=s,o.setBox({x:e-i,y:r-s,width:2*i,height:2*s}),t.canvas[y](n),o},Wt=function(t,e,r,i,s,n){var a=$t("group"),o=$t("image");a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=Xt,a.coordorigin=t.coordorigin,o.src=e,a[y](o);var h=new Lt(o,a,t);return h.type="image",h.attrs.src=e,h.attrs.x=r,h.attrs.y=i,h.attrs.w=s,h.attrs.h=n,h.setBox({x:r,y:i,width:s,height:n}),t.canvas[y](a),h},Ft=function(e,r,i,s){var n=$t("group"),a=$t("shape"),o=a.style,h=$t("path"),l=(h.style,$t("textpath"));n.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",n.coordsize=Xt,n.coordorigin=e.coordorigin,h.v=t.format("m{0},{1}l{2},{1}",D(10*r),D(10*i),D(10*r)+1),h.textpathok=!0,o.width=e.width,o.height=e.height,l.string=w(s),l.on=!0,a[y](l),a[y](h),n[y](a);var c=new Lt(l,n,e);return c.shape=a,c.textpath=h,c.type="text",c.attrs.text=s,c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,zt(c,{font:Z.font,stroke:"none",fill:"#000"}),c.setBox(),e.canvas[y](n),c},Pt=function(t,e){var r=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this};var $t;u.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!u.namespaces.rvml&&u.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),$t=function(t){return u.createElement("<rvml:"+t+' class="rvml">')}}catch(t){$t=function(t){return u.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Yt=function(){var e=kt[g](0,arguments),r=e.container,i=e.height,s=e.width,n=e.x,a=e.y;if(!r)throw new Error("VML container not found.");var o=new v,h=o.canvas=u.createElement("div"),l=h.style;return n=n||0,a=a||0,s=s||512,i=i||342,s==+s&&(s+="px"),i==+i&&(i+="px"),o.width=1e3,o.height=1e3,o.coordsize=1e4+k+1e4,o.coordorigin="0 0",o.span=u.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",h[y](o.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,i),1==r?(u.body[y](h),l.left=n+"px",l.top=a+"px",l.position="absolute"):r.firstChild?r.insertBefore(h,r.firstChild):r[y](h),wt.call(o,o,t.fn),o},o.clear=function(){this.canvas.innerHTML=b,this.span=u.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[y](this.span),this.bottom=this.top=null},o.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Tt(t);return!0}}var Ut=navigator.userAgent.match(/Version\\x2f(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(Ut&&Ut[1]<4||"iP"==navigator.platform.slice(0,2))?o.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});p.setTimeout(function(){t.remove()})}:o.safari=function(){};for(var Zt=function(){this.returnValue=!1},Qt=function(){return this.originalEvent.preventDefault()},Jt=function(){this.cancelBubble=!0},Kt=function(){return this.originalEvent.stopPropagation()},te=function(){return u.addEventListener?function(t,e,r,i){var s=m&&C[e]?C[e]:e,n=function(s){if(m&&C[f](e))for(var n=0,a=s.targetTouches&&s.targetTouches.length;n<a;n++)if(s.targetTouches[n].target==t){var o=s;s=s.targetTouches[n],s.originalEvent=o,s.preventDefault=Qt,s.stopPropagation=Kt;break}return r.call(i,s)};return t.addEventListener(s,n,!1),function(){return t.removeEventListener(s,n,!1),!0}}:u.attachEvent?function(t,e,r,i){var s=function(t){return t=t||p.event,t.preventDefault=t.preventDefault||Zt,t.stopPropagation=t.stopPropagation||Jt,r.call(i,t)};return t.attachEvent("on"+e,s),function(){return t.detachEvent("on"+e,s),!0}}:void 0}(),ee=[],re=function(t){for(var e,r=t.clientX,i=t.clientY,s=u.documentElement.scrollTop||u.body.scrollTop,n=u.documentElement.scrollLeft||u.body.scrollLeft,a=ee.length;a--;){if(e=ee[a],m){for(var o,h=t.touches.length;h--;)if(o=t.touches[h],o.identifier==e.el._drag.id){r=o.clientX,i=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();r+=n,i+=s,e.move&&e.move.call(e.move_scope||e.el,r-e.el._drag.x,i-e.el._drag.y,r,i,t)}},ie=function(e){t.unmousemove(re).unmouseup(ie);for(var r,i=ee.length;i--;)r=ee[i],r.el._drag={},r.end&&r.end.call(r.end_scope||r.start_scope||r.move_scope||r.el,e);ee=[]},se=B[N];se--;)!function(e){t[e]=Lt[c][e]=function(r,i){return t.is(r,"function")&&(this.events=this.events||[],this.events.push({name:e,f:r,unbind:te(this.shape||this.node||u,e,r,i||this)})),this},t["un"+e]=Lt[c]["un"+e]=function(t){for(var r=this.events,i=r[N];i--;)if(r[i].name==e&&r[i].f==t)return r[i].unbind(),r.splice(i,1),!r.length&&delete this.events,this;return this}}(B[se]);jt.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},jt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},jt.drag=function(e,r,i,s,n,a){return this._drag={},this.mousedown(function(o){(o.originalEvent||o).preventDefault();var h=u.documentElement.scrollTop||u.body.scrollTop,l=u.documentElement.scrollLeft||u.body.scrollLeft;this._drag.x=o.clientX+l,this._drag.y=o.clientY+h,this._drag.id=o.identifier,r&&r.call(n||s||this,o.clientX+l,o.clientY+h,o),!ee.length&&t.mousemove(re).mouseup(ie),ee.push({el:this,move:e,end:i,move_scope:s,start_scope:n,end_scope:a})}),this},jt.undrag=function(e,r,i){for(var s=ee.length;s--;)ee[s].el==this&&ee[s].move==e&&ee[s].end==i&&ee.splice(s++,1);!ee.length&&t.unmousemove(re).unmouseup(ie)},o.circle=function(t,e,r){return qt(this,t||0,e||0,r||0)},o.rect=function(t,e,r,i,s){return Vt(this,t||0,e||0,r||0,i||0,s||0)},o.ellipse=function(t,e,r,i){return Ht(this,t||0,e||0,r||0,i||0)},o.path=function(e){return e&&!t.is(e,j)&&!t.is(e[0],q)&&(e+=b),Gt(t.format[g](t,arguments),this)},o.image=function(t,e,r,i,s){return Wt(this,t||"about:blank",e||0,r||0,i||0,s||0)},o.text=function(t,e,r){return Ft(this,t||0,e||0,w(r))},o.set=function(t){return arguments[N]>1&&(t=Array[c].splice.call(arguments,0,arguments[N])),new ye(t)},o.setSize=Pt,o.top=o.bottom=null,o.raphael=t,jt.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},jt.scale=function(t,e,r,i){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:s};!+(e=e||t)&&(e=t);var n,a,o=this.attrs;if(0!=t){var h=this.getBBox(),l=h.x+h.width/2,c=h.y+h.height/2,f=E(t/this._.sx),u=E(e/this._.sy);r=+r||0==r?r:l,i=+i||0==i?i:c;var p=this._.sx>0,d=this._.sy>0,v=~~(t/E(t)),y=~~(e/E(e)),g=f*v,m=u*y,w=this.node.style,_=r+E(l-r)*g*(l>r==p?1:-1),B=i+E(c-i)*m*(c>i==d?1:-1),C=t*v>e*y?u:f;switch(this.type){case"rect":case"image":var T=o.width*f,S=o.height*u;this.attr({height:S,r:o.r*C,width:T,x:_-T/2,y:B-S/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*f,ry:o.ry*u,r:o.r*C,cx:_,cy:B});break;case"text":this.attr({x:_,y:B});break;case"path":for(var G=ut(o.path),M=!0,z=p?g:f,R=d?m:u,L=0,j=G[N];L<j;L++){var q=G[L],V=U.call(q[0]);if("M"!=V||!M)if(M=!1,"A"==V)q[G[L][N]-2]*=z,q[G[L][N]-1]*=R,q[1]*=f,q[2]*=u,q[5]=+(v+y?!!+q[5]:!+q[5]);else if("H"==V)for(var H=1,W=q[N];H<W;H++)q[H]*=z;else if("V"==V)for(H=1,W=q[N];H<W;H++)q[H]*=R;else for(H=1,W=q[N];H<W;H++)q[H]*=H%2?z:R}var F=ct(G);n=_-F.x-F.width/2,a=B-F.y-F.height/2,G[0][1]+=n,G[0][2]+=a,this.attr({path:G})}this.type in{text:1,image:1}&&(1!=v||1!=y)?this.transformations?(this.transformations[2]="scale("[x](v,",",y,")"),this.node[X]("transform",this.transformations[A](k)),n=v==-1?-o.x-(T||0):o.x,a=y==-1?-o.y-(S||0):o.y,this.attr({x:n,y:a}),o.fx=v-1,o.fy=y-1):(this.node.filterMatrix=$+".Matrix(M11="[x](v,", M12=0, M21=0, M22=",y,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),w.filter=(this.node.filterMatrix||b)+(this.node.filterOpacity||b)):this.transformations?(this.transformations[2]=b,this.node[X]("transform",this.transformations[A](k)),o.fx=0,o.fy=0):(this.node.filterMatrix=b,w.filter=(this.node.filterMatrix||b)+(this.node.filterOpacity||b)),o.scale=[t,e,r,i][A](k),this._.sx=t,this._.sy=e}return this},jt.clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var ne={},ae=function(e,r,i,s,n,a,o,h,l){var c,f,u=0,p=100,d=[e,r,i,s,n,a,o,h].join(),v=ne[d];if(!v&&(ne[d]=v={data:[]}),v.timer&&clearTimeout(v.timer),v.timer=setTimeout(function(){delete ne[d]},2e3),null!=l){p=10*~~ae(e,r,i,s,n,a,o,h)}for(var y=0;y<p+1;y++){if(v.data[l]>y?f=v.data[y*p]:(f=t.findDotsAtSegment(e,r,i,s,n,a,o,h,y/p),v.data[y]=f),y&&(u+=z(z(c.x-f.x,2)+z(c.y-f.y,2),.5)),null!=l&&u>=l)return f;c=f}if(null==l)return u},oe=function(e,r){return function(i,s,n){i=mt(i);for(var a,o,h,l,c,f="",u={},p=0,d=0,v=i.length;d<v;d++){if(h=i[d],"M"==h[0])a=+h[1],o=+h[2];else{if(l=ae(a,o,h[1],h[2],h[3],h[4],h[5],h[6]),p+l>s){if(r&&!u.start){if(c=ae(a,o,h[1],h[2],h[3],h[4],h[5],h[6],s-p),f+=["C",c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],n)return f;u.start=f,f=["M",c.x,c.y+"C",c.n.x,c.n.y,c.end.x,c.end.y,h[5],h[6]][A](),p+=l,a=+h[5],o=+h[6];continue}if(!e&&!r)return c=ae(a,o,h[1],h[2],h[3],h[4],h[5],h[6],s-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=l,a=+h[5],o=+h[6]}f+=h}return u.end=f,c=e?p:r?u:t.findDotsAtSegment(a,o,h[1],h[2],h[3],h[4],h[5],h[6],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},he=oe(1),le=oe(),ce=oe(0,1);jt.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():he(this.attrs.path)},jt.getPointAtLength=function(t){if("path"==this.type)return le(this.attrs.path,t)},jt.getSubpath=function(t,e){if("path"==this.type){if(E(this.getTotalLength()-e)<"1e-6")return ce(this.attrs.path,t).end;var r=ce(this.attrs.path,e,1);return t?ce(r,t).end:r}},t.easing_formulas={linear:function(t){return t},"<":function(t){return z(t,3)},">":function(t){return z(t-1,3)+1},"<>":function(t){return(t*=2)<1?z(t,3)/2:(t-=2,(z(t,3)+2)/2)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;return z(2,-10*t)*S.sin(2*R*(t-.075)/.3)+1},bounce:function(t){var e,r=7.5625,i=2.75;return t<1/i?e=r*t*t:t<2/i?(t-=1.5/i,e=r*t*t+.75):t<2.5/i?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};var fe=[],ue=function(){for(var e=+new Date,r=0;r<fe[N];r++){var i=fe[r];if(!i.stop&&!i.el.removed){var s,n=e-i.start,a=i.ms,o=i.easing,h=i.from,l=i.diff,c=i.to,u=i.t,p=i.el,d={};if(n<a){var v=o(n/a);for(var y in h)if(h[f](y)){switch(Q[y]){case"along":s=v*a*l[y],c.back&&(s=c.len-s);var g=le(c[y],s);p.translate(l.sx-l.x||0,l.sy-l.y||0),l.x=g.x,l.y=g.y,p.translate(g.x-l.sx,g.y-l.sy),c.rot&&p.rotate(l.r+g.alpha,g.x,g.y);break;case L:s=+h[y]+v*a*l[y];break;case"colour":s="rgb("+[de(D(h[y].r+v*a*l[y].r)),de(D(h[y].g+v*a*l[y].g)),de(D(h[y].b+v*a*l[y].b))][A](",")+")";break;case"path":s=[];for(var x=0,m=h[y][N];x<m;x++){s[x]=[h[y][x][0]];for(var w=1,_=h[y][x][N];w<_;w++)s[x][w]=+h[y][x][w]+v*a*l[y][x][w];s[x]=s[x][A](k)}s=s[A](k);break;case"csv":switch(y){case"translation":var B=v*a*l[y][0]-u.x,C=v*a*l[y][1]-u.y;u.x+=B,u.y+=C,s=B+k+C;break;case"rotation":s=+h[y][0]+v*a*l[y][0],h[y][1]&&(s+=","+h[y][1]+","+h[y][2]);break;case"scale":s=[+h[y][0]+v*a*l[y][0],+h[y][1]+v*a*l[y][1],2 in c[y]?c[y][2]:b,3 in c[y]?c[y][3]:b][A](k);break;case"clip-rect":for(s=[],x=4;x--;)s[x]=+h[y][x]+v*a*l[y][x]}break;default:var T=[].concat(h[y]);for(s=[],x=p.paper.customAttributes[y].length;x--;)s[x]=+T[x]+v*a*l[y][x]}d[y]=s}p.attr(d),p._run&&p._run.call(p)}else c.along&&(g=le(c.along,c.len*!c.back),p.translate(l.sx-(l.x||0)+g.x-l.sx,l.sy-(l.y||0)+g.y-l.sy),c.rot&&p.rotate(l.r+g.alpha,g.x,g.y)),(u.x||u.y)&&p.translate(-u.x,-u.y),c.scale&&(c.scale+=b),p.attr(c),fe.splice(r--,1)}}t.svg&&p&&p.paper&&p.paper.safari(),fe[N]&&setTimeout(ue)},pe=function(e,r,i,s,n){var a=i-s;r.timeouts.push(setTimeout(function(){t.is(n,"function")&&n.call(r),r.animate(e,a,e.easing)},s))},de=function(t){return G(M(t,255),0)},ve=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:s};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var r=ut(this.attrs.path);r[0][1]+=+t,r[0][2]+=+e,this.attr({path:r})}return this};jt.animateWith=function(t,e,r,i,s){for(var n=0,a=fe.length;n<a;n++)fe[n].el.id==t.id&&(e.start=fe[n].start);return this.animate(e,r,i,s)},jt.animateAlong=n(),jt.animateAlongBack=n(1),jt.onAnimation=function(t){return this._run=t||0,this},jt.animate=function(e,r,i,s){var n=this;if(n.timeouts=n.timeouts||[],!t.is(i,"function")&&i||(s=i||null),n.removed)return s&&s.call(n),n;var o={},l={},c=!1,u={};for(var p in e)if(e[f](p)&&(Q[f](p)||n.paper.customAttributes[f](p)))switch(c=!0,o[p]=n.attr(p),null==o[p]&&(o[p]=Z[p]),l[p]=e[p],Q[p]){case"along":var d=he(e[p]),v=le(e[p],d*!!e.back),y=n.getBBox();u[p]=d/r,u.tx=y.x,u.ty=y.y,u.sx=v.x,u.sy=v.y,l.rot=e.rot,l.back=e.back,l.len=d,e.rot&&(u.r=O(n.rotate())||0);break;case L:u[p]=(l[p]-o[p])/r;break;case"colour":o[p]=t.getRGB(o[p]);var g=t.getRGB(l[p]);u[p]={r:(g.r-o[p].r)/r,g:(g.g-o[p].g)/r,b:(g.b-o[p].b)/r};break;case"path":var x=mt(o[p],l[p]);o[p]=x[0];var m=x[1];u[p]=[];for(var b=0,k=o[p][N];b<k;b++){u[p][b]=[0];for(var B=1,C=o[p][b][N];B<C;B++)u[p][b][B]=(m[b][B]-o[p][b][B])/r}break;case"csv":var A=w(e[p])[_](h),T=w(o[p])[_](h);switch(p){case"translation":o[p]=[0,0],u[p]=[A[0]/r,A[1]/r];break;case"rotation":o[p]=T[1]==A[1]&&T[2]==A[2]?T:[0,A[1],A[2]],u[p]=[(A[0]-o[p][0])/r,0,0];break;case"scale":e[p]=A,o[p]=w(o[p])[_](h),u[p]=[(A[0]-o[p][0])/r,(A[1]-o[p][1])/r,0,0];break;case"clip-rect":for(o[p]=w(o[p])[_](h),u[p]=[],b=4;b--;)u[p][b]=(A[b]-o[p][b])/r}l[p]=A;break;default:for(A=[].concat(e[p]),T=[].concat(o[p]),u[p]=[],b=n.paper.customAttributes[p][N];b--;)u[p][b]=((A[b]||0)-(T[b]||0))/r}if(c){var S=t.easing_formulas[i];if(!S)if((S=w(i).match(/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/))&&5==S[N]){var G=S;S=function(t){return a(t,+G[1],+G[2],+G[3],+G[4],r)}}else S=function(t){return t};fe.push({start:e.start||+new Date,ms:r,easing:S,from:o,diff:u,to:l,el:n,t:{x:0,y:0}}),t.is(s,"function")&&(n._ac=setTimeout(function(){s.call(n)},r)),1==fe[N]&&setTimeout(ue)}else{var M,E=[];for(var z in e)e[f](z)&&K.test(z)&&(p={value:e[z]},"from"==z&&(z=0),"to"==z&&(z=100),p.key=I(z,10),E.push(p));for(E.sort(it),E[0].key&&E.unshift({key:0,value:n.attrs}),b=0,k=E[N];b<k;b++)pe(E[b].value,n,r/100*E[b].key,r/100*(E[b-1]&&E[b-1].key||0),E[b-1]&&E[b-1].value.callback);M=E[E[N]-1].value.callback,M&&n.timeouts.push(setTimeout(function(){M.call(n)},r))}return this},jt.stop=function(){for(var t=0;t<fe.length;t++)fe[t].el.id==this.id&&fe.splice(t--,1);for(t=0,ii=this.timeouts&&this.timeouts.length;t<ii;t++)clearTimeout(this.timeouts[t]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},jt.translate=function(t,e){return this.attr({translation:t+" "+e})},jt[V]=function(){return"Raphaël’s object"},t.ae=fe;var ye=function(t){if(this.items=[],this[N]=0,this.type="set",t)for(var e=0,r=t[N];e<r;e++)!t[e]||t[e].constructor!=Lt&&t[e].constructor!=ye||(this[this.items[N]]=this.items[this.items[N]]=t[e],this[N]++)};ye[c][F]=function(){for(var t,e,r=0,i=arguments[N];r<i;r++)!(t=arguments[r])||t.constructor!=Lt&&t.constructor!=ye||(e=this.items[N],this[e]=this.items[e]=t,this[N]++);return this},ye[c].pop=function(){return delete this[this[N]--],this.items.pop()};for(var ge in jt)jt[f](ge)&&(ye[c][ge]=function(t){return function(){for(var e=0,r=this.items[N];e<r;e++)this.items[e][t][g](this.items[e],arguments);return this}}(ge));ye[c].attr=function(e,r){if(e&&t.is(e,q)&&t.is(e[0],"object"))for(var i=0,s=e[N];i<s;i++)this.items[i].attr(e[i]);else for(var n=0,a=this.items[N];n<a;n++)this.items[n].attr(e,r);return this},ye[c].animate=function(e,r,i,s){(t.is(i,"function")||!i)&&(s=i||null);var n,a,o=this.items[N],h=o,l=this;for(s&&(a=function(){!--o&&s.call(l)}),i=t.is(i,j)?i:a,n=this.items[--h].animate(e,r,i,a);h--;)this.items[h]&&!this.items[h].removed&&this.items[h].animateWith(n,e,r,i,a);return this},ye[c].insertAfter=function(t){for(var e=this.items[N];e--;)this.items[e].insertAfter(t);return this},ye[c].getBBox=function(){for(var t=[],e=[],r=[],i=[],s=this.items[N];s--;){var n=this.items[s].getBBox();t[F](n.x),e[F](n.y),r[F](n.x+n.width),i[F](n.y+n.height)}return t=M[g](0,t),e=M[g](0,e),{x:t,y:e,width:G[g](0,r)-t,height:G[g](0,i)-e}},ye[c].clone=function(t){t=new ye;for(var e=0,r=this.items[N];e<r;e++)t[F](this.items[e].clone());return t},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[f](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r][F](e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=I(t.face["units-per-em"],10);for(var s in t.glyphs)if(t.glyphs[f](s)){var n=t.glyphs[s];if(e.glyphs[s]={w:n.w,k:{},d:n.d&&"M"+n.d[J](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},n.k)for(var a in n.k)n[f](a)&&(e.glyphs[s].k[a]=n.k[a])}}return t},o.getFont=function(e,r,i,s){if(s=s||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,t.fonts){var n=t.fonts[e];if(!n){var a=new RegExp("(^|\\s)"+e[J](/[^\w\d\s+!~.:_-]/g,b)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[f](o)&&a.test(o)){n=t.fonts[o];break}}var h;if(n)for(var l=0,c=n[N];l<c&&(h=n[l],h.face["font-weight"]!=r||h.face["font-style"]!=i&&h.face["font-style"]||h.face["font-stretch"]!=s);l++);return h}},o.print=function(e,r,i,s,n,a,o){a=a||"middle",o=G(M(o||0,1),-1);var l,c=this.set(),f=w(i)[_](b),u=0;if(t.is(s,i)&&(s=this.getFont(s)),s){l=(n||16)/s.face["units-per-em"];for(var p=s.face.bbox.split(h),d=+p[0],v=+p[1]+("baseline"==a?p[3]-p[1]+ +s.face.descent:(p[3]-p[1])/2),y=0,g=f[N];y<g;y++){var x=y&&s.glyphs[f[y-1]]||{},m=s.glyphs[f[y]];u+=y?(x.w||s.w)+(x.k&&x.k[f[y]]||0)+s.w*o:0,m&&m.d&&c[F](this.path(m.d).attr({fill:"#000",stroke:"none",translation:[u,0]}))}c.scale(l,l,d,v).translate(e-d,r-v)}return c},t.format=function(e,r){var i=t.is(r,q)?[0][x](r):arguments;return e&&t.is(e,j)&&i[N]-1&&(e=e[J](/\{(\d+)\}/g,function(t,e){return null==i[++e]?b:i[e]})),e||b},t.ninja=function(){return d.was?p.Raphael=d.is:delete Raphael,t},t.el=jt,t.st=ye[c],d.was?p.Raphael=t:Raphael=t}();